hostNetworking: false

# 容忍 control-plane 節點的 Taints，使 DaemonSet 可以跑在 master 上（若想全 node 都能跑可移除 nodeSelector）
tolerations:
  - key: "node.cloudprovider.kubernetes.io/uninitialized"
    value: "true"
    effect: NoSchedule
  - key: "node-role.kubernetes.io/control-plane"
    effect: NoSchedule
    operator: Exists

# 只部署到 control-plane node
nodeSelector:
  node-role.kubernetes.io/control-plane: "true"

clusterName: osdp25w-cluster

args:
  - --cloud-provider=aws
  - --configure-cloud-routes=false   # 你目前已用 flannel，不用 cloud-provider 來建 VPC route
  - --v=2                            # info 級別 log
  - --cluster-name=osdp25w-cluster

extraArgs:
  - --region=ap-northeast-3

# 若你 helm chart 版本沒有內建這個欄位可省略，下面 RBAC 部分由 chart 自動建立
# clusterRoleRules:
#   - apiGroups: [""]
#     resources:
#       - serviceaccounts
#     verbs: ["create", "get"]
#   - apiGroups: [""]
#     resources:
#       - nodes
#       - nodes/status
#       - services
#       - services/status
#       - endpoints
#       - events
#       - persistentvolumes
#     verbs: ["get", "list", "watch", "patch", "update", "create"]
#   - apiGroups: ["coordination.k8s.io"]
#     resources: ["leases"]
#     verbs: ["create", "get", "list", "watch", "update"]

# 建議加 image 版本，與你的 k8s 相符（可查 https://artifacthub.io/packages/helm/aws-cloud-controller-manager/aws-cloud-controller-manager）
image:
  repository: registry.k8s.io/provider-aws/cloud-controller-manager
  tag: v1.30.1   # 與你的 k8s v1.30.x 相符

serviceAccount:
  create: false
  name: aws-cloud-controller-manager